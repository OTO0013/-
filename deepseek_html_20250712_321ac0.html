<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中空旋转平台综合计算工具 - 小林计算工具</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2a5298;
            --secondary: #4b6cb7;
            --accent: #1e3c72;
            --light-bg: #f5f7fa;
            --dark-bg: #1a2a4f;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --card-shadow: 0 10px 20px rgba(0,0,0,0.08);
            --company-blue: #2a5298;
            --disk-color: #4b9ab7;
            --square-color: #8e44ad;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding-bottom: 3rem;
            min-height: 100vh;
        }
        
        .company-header {
            background: linear-gradient(90deg, var(--company-blue) 0%, #1e3c72 100%);
            color: white;
            padding: 1.5rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .company-header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .company-logo {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .company-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .card {
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            margin-bottom: 1.5rem;
            border: none;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.98);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .card-header {
            background: linear-gradient(90deg, var(--secondary) 0%, var(--accent) 100%);
            color: white;
            font-weight: 600;
            padding: 1.2rem 1.5rem;
            border: none;
        }
        
        .calculation-card .card-header {
            background: linear-gradient(90deg, var(--company-blue) 0%, #1e3c72 100%);
        }
        
        .form-label {
            font-weight: 500;
            margin-bottom: 0.3rem;
            color: var(--accent);
        }
        
        .btn-calculate {
            background: linear-gradient(90deg, var(--company-blue) 0%, #1e3c72 100%);
            border: none;
            padding: 0.9rem 1.8rem;
            font-weight: 600;
            transition: all 0.3s;
            color: white;
            font-size: 1.1rem;
        }
        
        .btn-calculate:hover {
            background: linear-gradient(90deg, #1e3c72 0%, var(--company-blue) 100%);
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0,0,0,0.1);
            color: white;
        }
        
        .result-card {
            background: #fff;
            border-left: 5px solid var(--company-blue);
            padding: 1.8rem;
            border-radius: 12px;
            margin-top: 2rem;
            display: none;
            box-shadow: var(--card-shadow);
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .param-group {
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid var(--company-blue);
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .section-title {
            color: var(--accent);
            border-bottom: 2px solid var(--company-blue);
            padding-bottom: 0.6rem;
            margin-top: 1.8rem;
            margin-bottom: 1.2rem;
            font-weight: 600;
            font-size: 1.3rem;
        }
        
        .result-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 12px;
            padding: 1.8rem 1rem;
            margin: 1.2rem 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            border: 1px solid #bbdefb;
        }
        
        .result-box:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        
        .result-value {
            font-size: 2.4rem;
            font-weight: bold;
            color: var(--company-blue);
            margin: 0.7rem 0;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .result-label {
            font-size: 1.2rem;
            color: var(--accent);
            margin-top: 0.7rem;
            font-weight: 500;
        }
        
        .formula-box {
            background: #fffde7;
            border-left: 4px solid var(--warning);
            padding: 1.2rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-size: 1rem;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
        
        .calculation-detail {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            font-size: 1rem;
            box-shadow: inset 0 0 12px rgba(0,0,0,0.06);
            line-height: 1.8;
        }
        
        .param-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .param-table th {
            background-color: rgba(42, 82, 152, 0.12);
            color: var(--company-blue);
            font-weight: 600;
            padding: 1rem;
            text-align: left;
        }
        
        .param-table td {
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .param-table tr:hover {
            background-color: rgba(42, 82, 152, 0.06);
        }
        
        .input-group-text {
            background: rgba(42, 82, 152, 0.1);
            color: var(--company-blue);
            border: 1px solid rgba(42, 82, 152, 0.2);
        }
        
        .recommendation-box {
            background: #e8f4f8;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #4b9ab7;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
        
        .recommendation-title {
            color: #1e5872;
            font-weight: 600;
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }
        
        .required::after {
            content: " *";
            color: #d32f2f;
        }
        
        .input-note {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 0.3rem;
            font-style: italic;
        }
        
        .visualization {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            border: 1px dashed #ced4da;
        }
        
        .visual-title {
            font-weight: 600;
            color: var(--company-blue);
            margin-bottom: 1rem;
        }
        
        .rotary-platform {
            position: relative;
            height: 200px;
            margin: 0 auto;
            width: 80%;
        }
        
        .platform-base {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 20px;
            background: #78909c;
            border-radius: 10px 10px 0 0;
        }
        
        .platform {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 160px;
            height: 160px;
            border: 3px solid #546e7a;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .disk-platform {
            background: #90a4ae;
            border-radius: 50%;
        }
        
        .square-platform {
            background: #a1887f;
        }
        
        .platform-hole {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border-radius: 50%;
            border: 2px solid #546e7a;
            z-index: 2;
        }
        
        .disk-workpiece {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #ffab91;
            border: 2px solid #e64a19;
            border-radius: 50%;
            top: 20px;
            left: 60px;
            z-index: 1;
        }
        
        .square-workpiece {
            position: absolute;
            width: 40px;
            height: 60px;
            background: #ffab91;
            border: 2px solid #e64a19;
            border-radius: 4px;
            top: 20px;
            left: 60px;
            z-index: 1;
        }
        
        .footer {
            background: #333;
            color: #fff;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .info-icon {
            color: var(--company-blue);
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .shape-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .shape-card {
            width: 150px;
            text-align: center;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #eee;
        }
        
        .shape-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        
        .shape-card.selected {
            border-color: var(--company-blue);
            background: rgba(42, 82, 152, 0.05);
            box-shadow: 0 0 0 3px rgba(42, 82, 152, 0.2);
        }
        
        .shape-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }
        
        .disk-shape {
            color: var(--disk-color);
        }
        
        .square-shape {
            color: var(--square-color);
        }
        
        @media (max-width: 768px) {
            .company-logo {
                font-size: 1.8rem;
            }
            .result-value {
                font-size: 2rem;
            }
            .result-grid {
                grid-template-columns: 1fr;
            }
            .shape-card {
                width: 130px;
            }
        }
        
        .shape-config {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .shape-config.active {
            display: block;
        }
        
        /* 安全系数高亮样式 */
        .safety-highlight {
            background-color: #fff8e1;
            border: 2px solid #ffd54f;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .safety-title {
            color: #e65100;
            font-weight: 600;
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .safety-factor-box {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }
        
        .safety-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #d32f2f;
        }
        
        .safety-meter {
            height: 20px;
            width: 100%;
            background: linear-gradient(to right, #4caf50, #ffc107, #f44336);
            border-radius: 10px;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .safety-indicator {
            position: absolute;
            height: 100%;
            width: 4px;
            background: #212121;
            top: 0;
            transform: translateX(-50%);
        }
        
        /* 新增的计算表格样式 */
        .calculation-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .calculation-table th {
            background-color: #2a5298;
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .calculation-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .calculation-table tr:nth-child(even) {
            background-color: #f5f7fa;
        }
        
        .calculation-table tr:hover {
            background-color: #e3f2fd;
        }
        
        .calculation-table .formula-cell {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #d32f2f;
        }
        
        .calculation-table .value-cell {
            font-weight: 600;
            color: #1e3c72;
        }
        
        .calculation-table .unit-cell {
            color: #6c757d;
            font-style: italic;
        }
        
        .calculation-table .step-header {
            background-color: #4b6cb7;
            color: white;
            font-weight: bold;
        }
        
        .calculation-table .sub-step {
            padding-left: 30px;
        }
        
        .table-container {
            overflow-x: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            margin: 25px 0;
        }
        
        .table-title {
            background: linear-gradient(90deg, var(--secondary) 0%, var(--accent) 100%);
            color: white;
            padding: 12px 20px;
            font-weight: 600;
            font-size: 1.1rem;
            border-radius: 8px 8px 0 0;
        }
    </style>
</head>
<body>
    <div class="company-header text-center">
        <div class="container">
            <div class="company-logo">
                <i class="fas fa-cogs me-3"></i>
                小林计算工具
            </div>
            <div class="company-subtitle">
                专业机械传动系统设计与计算
            </div>
            <h1 class="mt-3"><i class="fas fa-compass me-3"></i>中空旋转平台综合计算器</h1>
            <p class="lead">支持四种组合的精确负载计算与选型</p>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-10 offset-lg-1">
                <div class="card calculation-card">
                    <div class="card-header">
                        <h4><i class="fas fa-calculator me-2"></i>平台配置与参数设置</h4>
                    </div>
                    <div class="card-body">
                        <div class="shape-selector">
                            <div class="shape-card selected" id="disk-disk" data-platform="disk" data-workpiece="disk">
                                <div class="shape-icon disk-shape">
                                    <i class="fas fa-compress-arrows-alt"></i>
                                </div>
                                <h5>圆盘圆物</h5>
                                <div>平台: 圆盘</div>
                                <div>工作物: 圆柱</div>
                            </div>
                            <div class="shape-card" id="disk-square" data-platform="disk" data-workpiece="square">
                                <div class="shape-icon disk-shape">
                                    <i class="fas fa-compress-arrows-alt"></i>
                                </div>
                                <div class="shape-icon square-shape">
                                    <i class="fas fa-cube"></i>
                                </div>
                                <h5>圆盘方物</h5>
                                <div>平台: 圆盘</div>
                                <div>工作物: 方体</div>
                            </div>
                            <div class="shape-card" id="square-disk" data-platform="square" data-workpiece="disk">
                                <div class="shape-icon square-shape">
                                    <i class="fas fa-cube"></i>
                                </div>
                                <div class="shape-icon disk-shape">
                                    <i class="fas fa-compress-arrows-alt"></i>
                                </div>
                                <h5>方盘圆物</h5>
                                <div>平台: 方盘</div>
                                <div>工作物: 圆柱</div>
                            </div>
                            <div class="shape-card" id="square-square" data-platform="square" data-workpiece="square">
                                <div class="shape-icon square-shape">
                                    <i class="fas fa-cube"></i>
                                </div>
                                <h5>方盘方物</h5>
                                <div>平台: 方盘</div>
                                <div>工作物: 方体</div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="param-group">
                                    <h5><i class="fas fa-cube me-2"></i>工作台参数</h5>
                                    
                                    <!-- 圆盘工作台参数 -->
                                    <div class="shape-config active" id="disk-platform-config">
                                        <div class="mb-3">
                                            <label class="form-label required">工作台直径 (m)</label>
                                            <input type="number" class="form-control" id="worktable-diameter" value="1.2" min="0" step="0.01">
                                            <div class="input-note">旋转平台直径尺寸</div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作台厚度 (m)</label>
                                            <input type="number" class="form-control" id="worktable-thickness" value="0.25" min="0" step="0.01">
                                        </div>
                                    </div>
                                    
                                    <!-- 方盘工作台参数 -->
                                    <div class="shape-config" id="square-platform-config">
                                        <div class="mb-3">
                                            <label class="form-label required">工作台长度 (m)</label>
                                            <input type="number" class="form-control" id="worktable-length" value="0.85" min="0" step="0.01">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作台宽度 (m)</label>
                                            <input type="number" class="form-control" id="worktable-width" value="0.85" min="0" step="0.01">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作台厚度 (m)</label>
                                            <input type="number" class="form-control" id="worktable-thickness-square" value="0.25" min="0" step="0.01">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label required">材料密度 (kg/m³)</label>
                                        <input type="number" class="form-control" id="worktable-density" value="2700" min="0" step="1">
                                        <div class="input-note">铝材 ≈ 2700, 钢材 ≈ 7850 kg/m³</div>
                                    </div>
                                </div>
                                
                                <div class="param-group">
                                    <h5><i class="fas fa-cubes me-2"></i>工作物参数</h5>
                                    
                                    <!-- 圆柱工作物参数 -->
                                    <div class="shape-config active" id="disk-workpiece-config">
                                        <div class="mb-3">
                                            <label class="form-label required">工作物直径 (m)</label>
                                            <input type="number" class="form-control" id="workpiece-diameter" value="0.25" min="0" step="0.01">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作物高度 (m)</label>
                                            <input type="number" class="form-control" id="workpiece-height-disk" value="0.9" min="0" step="0.01">
                                        </div>
                                    </div>
                                    
                                    <!-- 方体工作物参数 -->
                                    <div class="shape-config" id="square-workpiece-config">
                                        <div class="mb-3">
                                            <label class="form-label required">工作物长度 (m)</label>
                                            <input type="number" class="form-control" id="workpiece-length" value="0.85" min="0" step="0.01">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作物宽度 (m)</label>
                                            <input type="number" class="form-control" id="workpiece-width" value="0.85" min="0" step="0.01">
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label required">工作物高度 (m)</label>
                                            <input type="number" class="form-control" id="workpiece-height" value="1.5" min="0" step="0.01">
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label required">工作物密度 (kg/m³)</label>
                                        <input type="number" class="form-control" id="workpiece-density" value="1000" min="0" step="1">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">工作物数量</label>
                                        <input type="number" class="form-control" id="workpiece-count" value="1" min="1" step="1">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">工作物中心距 (m)</label>
                                        <input type="number" class="form-control" id="workpiece-distance" value="0.45" min="0" step="0.01">
                                        <div class="input-note">工作物中心到平台中心的距离</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="param-group">
                                    <h5><i class="fas fa-tachometer-alt me-2"></i>运动参数</h5>
                                    <div class="mb-3">
                                        <label class="form-label required">定位角度 (°)</label>
                                        <input type="number" class="form-control" id="positioning-angle" value="90" min="0" step="1">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">定位时间 (s)</label>
                                        <input type="number" class="form-control" id="positioning-time" value="3.7" min="0" step="0.1">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">加速度时间比 (%)</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="acceleration-ratio" value="40" min="0" max="100" step="1">
                                            <span class="input-group-text">%</span>
                                        </div>
                                        <div class="input-note">通常设置为25%~40%</div>
                                    </div>
                                </div>
                                
                                <div class="param-group">
                                    <h5><i class="fas fa-cogs me-2"></i>传动参数</h5>
                                    <div class="mb-3">
                                        <label class="form-label required">减速比</label>
                                        <input type="number" class="form-control" id="reduction-ratio" value="200" min="1" step="1">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">减速机效率 (%)</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="gear-efficiency" value="90" min="1" max="100" step="1">
                                            <span class="input-group-text">%</span>
                                        </div>
                                        <div class="input-note">行星减速机效率通常为90%~95%</div>
                                    </div>
                                </div>
                                
                                <div class="param-group">
                                    <h5><i class="fas fa-motorcycle me-2"></i>电机参数</h5>
                                    <div class="mb-3">
                                        <label class="form-label required">电机转子惯量 (kg·m²)</label>
                                        <input type="number" class="form-control" id="motor-inertia" value="0.001356" min="0" step="0.0001">
                                        <div class="input-note">伺服电机转子惯量，通常为0.0005~0.01 kg·m²</div>
                                    </div>
                                </div>
                                
                                <!-- 安全系数参数组 -->
                                <div class="safety-highlight">
                                    <div class="safety-title">
                                        <i class="fas fa-shield-alt me-2"></i>转矩安全系数设置
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label required">转矩安全系数</label>
                                        <input type="number" class="form-control" id="safety-factor" value="1.8" min="1" max="3" step="0.1">
                                        <div class="input-note">推荐值1.5~2.0，根据应用场景调整</div>
                                    </div>
                                    <div class="safety-factor-box">
                                        <div>
                                            <div class="input-note">安全系数范围</div>
                                            <div class="d-flex justify-content-between">
                                                <span>1.0 (危险)</span>
                                                <span>1.5 (最小)</span>
                                                <span>2.0 (推荐)</span>
                                                <span>3.0 (最大)</span>
                                            </div>
                                            <div class="safety-meter">
                                                <div class="safety-indicator" id="safety-indicator" style="left: 60%;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-4">
                                    <button id="calculateBtn" class="btn btn-calculate">
                                        <i class="fas fa-bolt me-2"></i>开始计算
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="result-card" id="resultCard">
                    <h4 class="text-center mb-4"><i class="fas fa-chart-bar me-2"></i>计算结果</h4>
                    
                    <div class="visualization">
                        <div class="visual-title" id="visualTitle">圆盘圆物示意图</div>
                        <div class="rotary-platform">
                            <div class="platform-base"></div>
                            <div class="platform disk-platform">
                                <div class="platform-hole"></div>
                                <div class="disk-workpiece"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-grid">
                        <div class="result-box">
                            <i class="fas fa-weight-hanging fa-3x text-primary mb-3"></i>
                            <div class="result-value" id="torqueResult">0.00</div>
                            <div class="result-label">电机必须转矩 (N·m)</div>
                        </div>
                        <div class="result-box">
                            <i class="fas fa-tachometer-alt fa-3x text-success mb-3"></i>
                            <div class="result-value" id="rpmResult">0.0</div>
                            <div class="result-label">电机转速 (RPM)</div>
                        </div>
                        <div class="result-box">
                            <i class="fas fa-cube fa-3x text-info mb-3"></i>
                            <div class="result-value" id="inertiaResult">0.000</div>
                            <div class="result-label">总负载惯量 (kg·m²)</div>
                        </div>
                        <div class="result-box">
                            <i class="fas fa-shield-alt fa-3x text-warning mb-3"></i>
                            <div class="result-value" id="safetyResult">1.8</div>
                            <div class="result-label">转矩安全系数</div>
                        </div>
                    </div>
                    
                    <h5 class="section-title"><i class="fas fa-list-ol me-2"></i>详细参数</h5>
                    <div class="table-responsive">
                        <table class="table table-striped param-table">
                            <thead>
                                <tr>
                                    <th>参数</th>
                                    <th>值</th>
                                    <th>单位</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody id="paramDetails">
                                <!-- 参数详情将通过JS填充 -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- 新增的计算表格部分 -->
                    <h5 class="section-title"><i class="fas fa-table me-2"></i>计算步骤表格</h5>
                    <div class="table-container">
                        <div class="table-title">
                            <i class="fas fa-calculator me-2"></i>中空旋转平台计算过程
                        </div>
                        <table class="calculation-table" id="calculationTable">
                            <thead>
                                <tr>
                                    <th style="width: 30%">计算步骤</th>
                                    <th style="width: 25%">公式</th>
                                    <th style="width: 15%">值</th>
                                    <th style="width: 15%">单位</th>
                                    <th style="width: 15%">备注</th>
                                </tr>
                            </thead>
                            <tbody id="calculationSteps">
                                <!-- 计算步骤将通过JS填充 -->
                            </tbody>
                        </table>
                    </div>
                    
                    <h5 class="section-title"><i class="fas fa-calculator me-2"></i>计算过程</h5>
                    <div class="formula-box">
                        <strong>关键公式：</strong>
                        <div id="formulaText">
                            <!-- 公式将根据选择动态显示 -->
                        </div>
                    </div>
                    
                    <div class="recommendation-box">
                        <div class="recommendation-title"><i class="fas fa-lightbulb me-2"></i>计算说明与建议</div>
                        <div id="recommendationText">
                            <p><i class="fas fa-info-circle info-icon"></i>计算结果基于输入的参数和物理公式，适用于中空旋转平台的初步选型。</p>
                            <p class="mt-2"><i class="fas fa-exclamation-triangle info-icon"></i>实际应用中应考虑安全系数（通常为1.5~2.0）以应对动态负载变化。</p>
                            <p class="mt-2"><i class="fas fa-cog info-icon"></i>惯量比（负载惯量/电机转子惯量）应控制在10以内以确保系统稳定性。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer text-center">
        <div class="container">
            <p class="mb-1">中空旋转平台综合计算器 - 小林计算工具</p>
            <p class="mb-0">© 2025 小林计算工具</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 物理常量
        const GRAVITY = 9.8;  // m/s²
        const PI = Math.PI;
        
        // 当前选中的配置
        let currentConfig = {
            platform: 'disk',
            workpiece: 'disk'
        };
        
        // 配置选择器事件
        document.querySelectorAll('.shape-card').forEach(card => {
            card.addEventListener('click', function() {
                // 移除所有选中状态
                document.querySelectorAll('.shape-card').forEach(c => {
                    c.classList.remove('selected');
                });
                
                // 添加当前选中状态
                this.classList.add('selected');
                
                // 更新当前配置
                currentConfig.platform = this.dataset.platform;
                currentConfig.workpiece = this.dataset.workpiece;
                
                // 更新参数显示
                updateParameterDisplay();
                
                // 更新示意图
                updateVisualization();
            });
        });
        
        // 安全系数输入事件
        document.getElementById('safety-factor').addEventListener('input', function() {
            const safetyFactor = parseFloat(this.value) || 1.0;
            const position = Math.min(Math.max((safetyFactor - 1) * 50, 100), 0);
            document.getElementById('safety-indicator').style.left = `${position}%`;
        });
        
        // 更新参数显示
        function updateParameterDisplay() {
            // 隐藏所有配置
            document.querySelectorAll('.shape-config').forEach(config => {
                config.style.display = 'none';
            });
            
            // 显示工作台配置
            document.getElementById(`${currentConfig.platform}-platform-config`).style.display = 'block';
            
            // 显示工作物配置
            document.getElementById(`${currentConfig.workpiece}-workpiece-config`).style.display = 'block';
        }
        
        // 更新示意图
        function updateVisualization() {
            const platform = document.querySelector('.platform');
            const workpiece = document.querySelector('.workpiece');
            const title = document.getElementById('visualTitle');
            
            // 移除所有形状类
            platform.classList.remove('disk-platform', 'square-platform');
            if (workpiece) workpiece.remove();
            
            // 添加平台形状
            if (currentConfig.platform === 'disk') {
                platform.classList.add('disk-platform');
            } else {
                platform.classList.add('square-platform');
            }
            
            // 添加工作物形状
            if (currentConfig.workpiece === 'disk') {
                const diskWorkpiece = document.createElement('div');
                diskWorkpiece.className = 'disk-workpiece';
                platform.appendChild(diskWorkpiece);
            } else {
                const squareWorkpiece = document.createElement('div');
                squareWorkpiece.className = 'square-workpiece';
                platform.appendChild(squareWorkpiece);
            }
            
            // 更新标题
            const configNames = {
                'disk-disk': '圆盘圆物',
                'disk-square': '圆盘方物',
                'square-disk': '方盘圆物',
                'square-square': '方盘方物'
            };
            title.textContent = `${configNames[currentConfig.platform + '-' + currentConfig.workpiece]}示意图`;
        }
        
        // 计算按钮点击事件
        document.getElementById('calculateBtn').addEventListener('click', function() {
            const result = calculateHollowRotaryPlatform();
            displayResult(result);
            
            // 添加动画效果
            const resultCard = document.getElementById('resultCard');
            resultCard.style.animation = 'none';
            setTimeout(() => {
                resultCard.style.animation = 'fadeIn 0.6s ease-out';
            }, 10);
        });
        
        // 中空旋转平台计算函数
        function calculateHollowRotaryPlatform() {
            // 获取输入值
            const platformType = currentConfig.platform;
            const workpieceType = currentConfig.workpiece;
            
            // 通用参数
            const ρ_r = parseFloat(document.getElementById('worktable-density').value) || 0;
            const ρ = parseFloat(document.getElementById('workpiece-density').value) || 0;
            const n = parseInt(document.getElementById('workpiece-count').value) || 0;
            const θ = parseFloat(document.getElementById('positioning-angle').value) || 0;
            const t = parseFloat(document.getElementById('positioning-time').value) || 0;
            const A = parseFloat(document.getElementById('acceleration-ratio').value) || 0;
            const i = parseFloat(document.getElementById('reduction-ratio').value) || 0;
            const η_g = (parseFloat(document.getElementById('gear-efficiency').value) || 90) / 100;
            const J_m = parseFloat(document.getElementById('motor-inertia').value) || 0;
            const l = parseFloat(document.getElementById('workpiece-distance').value) || 0;
            const safetyFactor = parseFloat(document.getElementById('safety-factor').value) || 1.5;
            
            // 工作台参数
            let D_r, L_r, a, b, L_r_square;
            if (platformType === 'disk') {
                D_r = parseFloat(document.getElementById('worktable-diameter').value) || 0;
                L_r = parseFloat(document.getElementById('worktable-thickness').value) || 0;
            } else {
                a = parseFloat(document.getElementById('worktable-length').value) || 0;
                b = parseFloat(document.getElementById('worktable-width').value) || 0;
                L_r_square = parseFloat(document.getElementById('worktable-thickness-square').value) || 0;
            }
            
            // 工作物参数
            let D_w, L_w, d, e, h;
            if (workpieceType === 'disk') {
                D_w = parseFloat(document.getElementById('workpiece-diameter').value) || 0;
                L_w = parseFloat(document.getElementById('workpiece-height-disk').value) || 0;
            } else {
                d = parseFloat(document.getElementById('workpiece-length').value) || 0;
                e = parseFloat(document.getElementById('workpiece-width').value) || 0;
                h = parseFloat(document.getElementById('workpiece-height').value) || 0;
            }
            
            // 计算步骤数组
            const calculationSteps = [];
            
            // 1) 决定加速时间
            const t0 = t * (A / 100);
            calculationSteps.push({
                step: "1. 计算加速时间",
                formula: "t₀ = t × (A/100)",
                value: t0.toFixed(3),
                unit: "s",
                note: "定位时间 × 加速度时间比"
            });
            
            // 2) 计算电机转速
            const θ_rad = θ * PI / 180; // 角度转弧度
            calculationSteps.push({
                step: "2.1 角度转弧度",
                formula: "θ_rad = θ × (π/180)",
                value: θ_rad.toFixed(4),
                unit: "rad",
                note: ""
            });
            
            const ω_c_max = θ_rad / (t - t0); // 最大角速度 (rad/s)
            calculationSteps.push({
                step: "2.2 计算最大角速度",
                formula: "ω_c_max = θ_rad / (t - t₀)",
                value: ω_c_max.toFixed(3),
                unit: "rad/s",
                note: ""
            });
            
            const N_c = (ω_c_max * 60) / (2 * PI); // 减速机转速 (RPM)
            calculationSteps.push({
                step: "2.3 计算减速机转速",
                formula: "N_c = (ω_c_max × 60) / (2π)",
                value: N_c.toFixed(1),
                unit: "RPM",
                note: ""
            });
            
            const N_m = N_c * i; // 电机转速 (RPM)
            calculationSteps.push({
                step: "2.4 计算电机转速",
                formula: "N_m = N_c × i",
                value: N_m.toFixed(1),
                unit: "RPM",
                note: ""
            });
            
            // 3) 计算负载转矩 (忽略摩擦)
            const T_c = 0;
            
            // 4) 计算负载惯量
            // 工作台惯量
            let J_r, m_r;
            if (platformType === 'disk') {
                // 圆盘工作台
                m_r = PI * Math.pow(D_r/2, 2) * L_r * ρ_r;
                calculationSteps.push({
                    step: "4.1 计算工作台质量（圆盘）",
                    formula: "m_r = π × (D_r/2)² × L_r × ρ_r",
                    value: m_r.toFixed(1),
                    unit: "kg",
                    note: ""
                });
                
                J_r = (1/2) * m_r * Math.pow(D_r/2, 2);
                calculationSteps.push({
                    step: "4.2 计算工作台惯量（圆盘）",
                    formula: "J_r = (1/2) × m_r × (D_r/2)²",
                    value: J_r.toFixed(3),
                    unit: "kg·m²",
                    note: ""
                });
            } else {
                // 方盘工作台
                m_r = a * b * L_r_square * ρ_r;
                calculationSteps.push({
                    step: "4.1 计算工作台质量（方盘）",
                    formula: "m_r = a × b × L_r × ρ_r",
                    value: m_r.toFixed(1),
                    unit: "kg",
                    note: ""
                });
                
                J_r = (1/12) * m_r * (Math.pow(a, 2) + Math.pow(b, 2));
                calculationSteps.push({
                    step: "4.2 计算工作台惯量（方盘）",
                    formula: "J_r = (1/12) × m_r × (a² + b²)",
                    value: J_r.toFixed(3),
                    unit: "kg·m²",
                    note: ""
                });
            }
            
            // 工作物质量及惯量
            let m_e, J_e0, J_e_total;
            if (workpieceType === 'disk') {
                // 圆柱工作物
                m_e = PI * Math.pow(D_w/2, 2) * L_w * ρ;
                calculationSteps.push({
                    step: "4.3 计算单个工作物质量（圆柱）",
                    formula: "m_e = π × (D_w/2)² × L_w × ρ",
                    value: m_e.toFixed(1),
                    unit: "kg",
                    note: ""
                });
                
                J_e0 = (1/2) * m_e * Math.pow(D_w/2, 2);
                calculationSteps.push({
                    step: "4.4 计算单个工作物基础惯量（圆柱）",
                    formula: "J_e0 = (1/2) × m_e × (D_w/2)²",
                    value: J_e0.toFixed(3),
                    unit: "kg·m²",
                    note: ""
                });
            } else {
                // 方体工作物
                m_e = d * e * h * ρ;
                calculationSteps.push({
                    step: "4.3 计算单个工作物质量（方体）",
                    formula: "m_e = d × e × h × ρ",
                    value: m_e.toFixed(1),
                    unit: "kg",
                    note: ""
                });
                
                J_e0 = (1/12) * m_e * (Math.pow(d, 2) + Math.pow(e, 2));
                calculationSteps.push({
                    step: "4.4 计算单个工作物基础惯量（方体）",
                    formula: "J_e0 = (1/12) × m_e × (d² + e²)",
                    value: J_e0.toFixed(3),
                    unit: "kg·m²",
                    note: ""
                });
            }
            
            // 考虑工作物位置（平行轴定理）
            const J_position = m_e * Math.pow(l, 2);
            calculationSteps.push({
                step: "4.5 计算单个工作物位置惯量",
                formula: "J_position = m_e × l²",
                value: J_position.toFixed(3),
                unit: "kg·m²",
                note: "平行轴定理"
            });
            
            const J_e = J_e0 + J_position;
            calculationSteps.push({
                step: "4.6 计算单个工作物总惯量",
                formula: "J_e = J_e0 + J_position",
                value: J_e.toFixed(3),
                unit: "kg·m²",
                note: "基础惯量 + 位置惯量"
            });
            
            J_e_total = n * J_e;
            calculationSteps.push({
                step: "4.7 计算总工作物惯量",
                formula: "J_e_total = n × J_e",
                value: J_e_total.toFixed(3),
                unit: "kg·m²",
                note: `工作物数量: ${n}`
            });
            
            // 总负载惯量
            const J_L = J_r + J_e_total;
            calculationSteps.push({
                step: "4.8 计算总负载惯量",
                formula: "J_L = J_r + J_e_total",
                value: J_L.toFixed(3),
                unit: "kg·m²",
                note: ""
            });
            
            // 5) 加速转矩
            // 折算到电机轴上的负载惯量
            const J_u = J_L / Math.pow(i, 2);
            calculationSteps.push({
                step: "5.1 计算折算惯量",
                formula: "J_u = J_L / i²",
                value: J_u.toFixed(6),
                unit: "kg·m²",
                note: "负载惯量折算到电机轴"
            });
            
            // 电机轴角加速度
            const β_m = (ω_c_max * i) / t0;
            calculationSteps.push({
                step: "5.2 计算电机轴角加速度",
                formula: "β_m = (ω_c_max × i) / t₀",
                value: β_m.toFixed(3),
                unit: "rad/s²",
                note: ""
            });
            
            // 加速转矩
            const T_a = (J_m + J_u) * β_m;
            calculationSteps.push({
                step: "5.3 计算加速转矩",
                formula: "T_a = (J_m + J_u) × β_m",
                value: T_a.toFixed(3),
                unit: "N·m",
                note: ""
            });
            
            // 6) 电机必须转矩（未考虑安全系数）
            const T_m = (T_a + T_c) / η_g;
            calculationSteps.push({
                step: "6. 计算电机必须转矩（未考虑安全系数）",
                formula: "T_m = (T_a + T_c) / η_g",
                value: T_m.toFixed(3),
                unit: "N·m",
                note: `减速机效率: ${(η_g*100).toFixed(1)}%`
            });
            
            // 7) 考虑安全系数的最终转矩
            const T_m_with_safety = T_m * safetyFactor;
            calculationSteps.push({
                step: "7. 应用安全系数",
                formula: "T_m_with_safety = T_m × SF",
                value: T_m_with_safety.toFixed(3),
                unit: "N·m",
                note: `安全系数: ${safetyFactor.toFixed(2)}`
            });
            
            // 8) 惯量比
            const inertiaRatio = J_u / J_m;
            calculationSteps.push({
                step: "8. 计算惯量比",
                formula: "惯量比 = J_u / J_m",
                value: inertiaRatio.toFixed(2),
                unit: "",
                note: ""
            });
            
            // 计算详情
            const details = [
                {name: "加速时间 t<sub>0</sub>", value: t0.toFixed(3), unit: "s", desc: "定位时间 × 加速度时间比"},
                {name: "最大角速度 ω<sub>c_max</sub>", value: ω_c_max.toFixed(3), unit: "rad/s", desc: "定位角度 / (定位时间 - 加速时间)"},
                {name: "减速机转速 N<sub>c</sub>", value: N_c.toFixed(1), unit: "RPM", desc: "(ω<sub>c_max</sub> × 60) / (2π)"},
                {name: "工作台质量", value: m_r.toFixed(1), unit: "kg", desc: "体积 × 密度"},
                {name: "工作台惯量 J<sub>r</sub>", value: J_r.toFixed(3), unit: "kg·m²", desc: platformType === 'disk' ? "圆盘惯量公式" : "方盘惯量公式"},
                {name: "单工作物质量 m<sub>e</sub>", value: m_e.toFixed(1), unit: "kg", desc: "体积 × 密度"},
                {name: "单工作物基础惯量", value: J_e0.toFixed(3), unit: "kg·m²", desc: workpieceType === 'disk' ? "圆柱惯量公式" : "方体惯量公式"},
                {name: "工作物位置惯量", value: (m_e * Math.pow(l, 2)).toFixed(3), unit: "kg·m²", desc: "质量 × 距离² (平行轴定理)"},
                {name: "总工作物惯量", value: J_e_total.toFixed(3), unit: "kg·m²", desc: "数量 × (基础惯量 + 位置惯量)"},
                {name: "总负载惯量 J<sub>L</sub>", value: J_L.toFixed(3), unit: "kg·m²", desc: "工作台惯量 + 总工作物惯量"},
                {name: "折算惯量 J<sub>u</sub>", value: J_u.toFixed(6), unit: "kg·m²", desc: "总负载惯量 / 减速比²"},
                {name: "电机轴角加速度 β<sub>m</sub>", value: β_m.toFixed(3), unit: "rad/s²", desc: "(最大角速度 × 减速比) / 加速时间"},
                {name: "加速转矩 T<sub>a</sub>", value: T_a.toFixed(3), unit: "N·m", desc: "(电机转子惯量 + 折算惯量) × 角加速度"},
                {name: "电机必须转矩（未考虑安全系数）", value: T_m.toFixed(3), unit: "N·m", desc: "(加速转矩 + 负载转矩) / 减速机效率"},
                {name: "安全系数", value: safetyFactor.toFixed(2), unit: "", desc: "用于补偿不确定因素"},
                {name: "最终电机必须转矩", value: T_m_with_safety.toFixed(3), unit: "N·m", desc: "电机必须转矩 × 安全系数"},
                {name: "惯量比", value: inertiaRatio.toFixed(2), unit: "", desc: "折算惯量 / 电机转子惯量"}
            ];
            
            // 更新公式显示
            const formulaText = document.getElementById('formulaText');
            formulaText.innerHTML = `
                <p>工作台惯量 = ${platformType === 'disk' 
                    ? '(1/2) × 质量 × (直径/2)²' 
                    : '(1/12) × 质量 × (长² + 宽²)'}</p>
                <p>工作物惯量 = ${workpieceType === 'disk' 
                    ? '(1/2) × 质量 × (直径/2)²' 
                    : '(1/12) × 质量 × (长² + 宽²)'} + 质量 × 距离²</p>
                <p>总负载惯量 = 工作台惯量 + 工作物数量 × (工作物基础惯量 + 位置惯量)</p>
                <p>电机必须转矩 = [ (电机转子惯量 + 折算惯量) × 角加速度 ] / 减速机效率</p>
                <p>最终电机必须转矩 = 电机必须转矩 × 安全系数 (${safetyFactor.toFixed(1)})</p>
            `;
            
            return {
                required_torque: T_m_with_safety,
                rpm: N_m,
                total_inertia: J_L,
                inertia_ratio: inertiaRatio,
                safety_factor: safetyFactor,
                details: details,
                calculationSteps: calculationSteps,
                params: [
                    {name: "工作台类型", value: platformType === 'disk' ? "圆盘" : "方盘", unit: ""},
                    {name: "工作物类型", value: workpieceType === 'disk' ? "圆柱" : "方体", unit: ""},
                    {name: "工作物数量", value: n, unit: ""},
                    {name: "工作物中心距", value: l, unit: "m"},
                    {name: "定位角度", value: θ, unit: "°"},
                    {name: "定位时间", value: t, unit: "s"},
                    {name: "加速度时间比", value: A, unit: "%"},
                    {name: "减速比", value: i, unit: ""},
                    {name: "减速机效率", value: (η_g*100).toFixed(1), unit: "%"},
                    {name: "电机转子惯量", value: J_m, unit: "kg·m²"},
                    {name: "转矩安全系数", value: safetyFactor, unit: ""}
                ]
            };
        }
        
        // 显示计算结果
        function displayResult(result) {
            const resultCard = document.getElementById('resultCard');
            
            // 更新主要结果
            document.getElementById('torqueResult').textContent = result.required_torque.toFixed(2);
            document.getElementById('rpmResult').textContent = result.rpm.toFixed(1);
            document.getElementById('inertiaResult').textContent = result.total_inertia.toFixed(3);
            document.getElementById('safetyResult').textContent = result.safety_factor.toFixed(1);
            
            // 更新参数详情
            const paramDetails = document.getElementById('paramDetails');
            paramDetails.innerHTML = '';
            
            // 添加输入参数
            const inputHeader = document.createElement('tr');
            inputHeader.className = 'table-info';
            inputHeader.innerHTML = '<th colspan="4">输入参数</th>';
            paramDetails.appendChild(inputHeader);
            
            result.params.forEach(param => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${param.name}</td>
                    <td>${typeof param.value === 'number' ? param.value.toFixed(4) : param.value}</td>
                    <td>${param.unit}</td>
                    <td>输入参数</td>
                `;
                paramDetails.appendChild(row);
            });
            
            // 添加分隔行
            const separatorRow = document.createElement('tr');
            separatorRow.className = 'table-primary';
            separatorRow.innerHTML = '<th colspan="4">计算步骤</th>';
            paramDetails.appendChild(separatorRow);
            
            // 添加计算中间值
            result.details.forEach(detail => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${detail.name}</td>
                    <td>${detail.value}</td>
                    <td>${detail.unit}</td>
                    <td>${detail.desc}</td>
                `;
                paramDetails.appendChild(row);
            });
            
            // 添加惯量比行
            const inertiaRow = document.createElement('tr');
            inertiaRow.innerHTML = `
                <td>惯量比</td>
                <td>${result.inertia_ratio.toFixed(2)}</td>
                <td></td>
                <td>${result.inertia_ratio > 10 ? 
                    '<span class="text-danger">偏高（建议优化设计或选择更大惯量电机）</span>' : 
                    '<span class="text-success">在合理范围内</span>'}</td>
            `;
            paramDetails.appendChild(inertiaRow);
            
            // 更新计算表格
            const calculationSteps = document.getElementById('calculationSteps');
            calculationSteps.innerHTML = '';
            
            result.calculationSteps.forEach(step => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${step.step}</td>
                    <td class="formula-cell">${step.formula}</td>
                    <td class="value-cell">${step.value}</td>
                    <td class="unit-cell">${step.unit}</td>
                    <td>${step.note}</td>
                `;
                calculationSteps.appendChild(row);
            });
            
            // 更新建议文本
            const recommendationText = document.getElementById('recommendationText');
            let safetyNote = "";
            if (result.safety_factor < 1.5) {
                safetyNote = `<p class="mt-2 text-danger"><i class="fas fa-exclamation-circle info-icon"></i>警告：您使用的安全系数${result.safety_factor.toFixed(1)}低于推荐最小值1.5，系统可能不稳定！</p>`;
            } else if (result.safety_factor > 2.5) {
                safetyNote = `<p class="mt-2 text-info"><i class="fas fa-info-circle info-icon"></i>提示：您使用的安全系数${result.safety_factor.toFixed(1)}较高，系统可靠性好但成本可能增加。</p>`;
            }
            recommendationText.innerHTML = `
                <p><i class="fas fa-info-circle info-icon"></i>计算结果基于输入的参数和物理公式，适用于中空旋转平台的初步选型。</p>
                ${safetyNote}
                <p class="mt-2"><i class="fas fa-exclamation-triangle info-icon"></i>实际应用中应考虑安全系数（通常为1.5~2.0）以应对动态负载变化。</p>
                <p class="mt-2"><i class="fas fa-cog info-icon"></i>惯量比（负载惯量/电机转子惯量）应控制在10以内以确保系统稳定性。</p>
                <p class="mt-2"><i class="fas fa-table info-icon"></i>详细计算步骤请查看上方表格。</p>
            `;
            
            resultCard.style.display = 'block';
            
            // 滚动到结果区域
            resultCard.scrollIntoView({ behavior: 'smooth' });
        }
        
        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化配置显示
            updateParameterDisplay();
            
            // 初始化示意图
            updateVisualization();
            
            // 初始化安全系数指示器
            const safetyFactor = parseFloat(document.getElementById('safety-factor').value) || 1.5;
            const position = Math.min(Math.max((safetyFactor - 1) * 50, 100), 0);
            document.getElementById('safety-indicator').style.left = `${position}%`;
            
            // 模拟计算一次以显示示例结果
            setTimeout(() => {
                const result = calculateHollowRotaryPlatform();
                displayResult(result);
            }, 500);
        });
    </script>
</body>
</html>